var sScroll=function(e){this.scrollerContainer=$(e),this.scrollerContainer.length>0&&(this.scrollerContent=this.scrollerContainer.find(".scroller-content"),this.scrollerControl=this.scrollerContainer.find(".scroller-control"),this.scrollerCar=this.scrollerControl.find("button"),this.init())};sScroll.prototype={init:function(){this.setCarSize();var e,n=this,r=0,s=0;this.scrollerCar.on("touchstart mousedown",function(o){o.preventDefault(),e=void 0!=o.screenY?{screenY:o.screenY,screenX:o.screenX}:{screenY:o.changedTouches[0].screenY,screenX:o.changedTouches[0].screenX};var t=e.screenY;$(this).on("touchmove mousemove",function(o){o.preventDefault(),e=void 0!=o.screenY?{screenY:o.screenY,screenX:o.screenX}:{screenY:o.changedTouches[0].screenY,screenX:o.changedTouches[0].screenX};var c=e.screenY;s=c-t+r,0>s&&(s=0),s+n.scrollerCar.height()>n.scrollerControl.height()&&(s=Math.abs(n.scrollerCar.height()-n.scrollerControl.height())),$(this).css("margin-top",s+"px"),n.moveContent()})}).on("touchend mouseup",function(n){n.preventDefault(),e=void 0!=n.screenY?{screenY:n.screenY,screenX:n.screenX}:{screenY:n.changedTouches[0].screenY,screenX:n.changedTouches[0].screenX},$(this).off("touchmove mousemove"),r=s}),this.scrollerContent.on("touchstart mousedown",function(o){o.preventDefault(),e=void 0!=o.screenY?{screenY:o.screenY,screenX:o.screenX}:{screenY:o.changedTouches[0].screenY,screenX:o.changedTouches[0].screenX};var t=e.screenY;$(this).on("touchmove mousemove",function(o){o.preventDefault(),e=void 0!=o.screenY?{screenY:o.screenY,screenX:o.screenX}:{screenY:o.changedTouches[0].screenY,screenX:o.changedTouches[0].screenX};var c=e.screenY;s=c-t+-1*r,s>0&&(s=0),-1*s+n.scrollerCar.height()>n.scrollerControl.height()&&(s=-1*Math.abs(n.scrollerCar.height()-n.scrollerControl.height())),n.scrollerCar.css("margin-top",-1*s+"px"),n.moveContent()})}).on("touchend mouseup",function(n){n.preventDefault(),e=void 0!=n.screenY?{screenY:n.screenY,screenX:n.screenX}:{screenY:n.changedTouches[0].screenY,screenX:n.changedTouches[0].screenX},$(this).off("touchmove mousemove"),r=-1*s})},showOffset:function(e,n){console.info(e+" - width:  "+n.offset().width+", height: "+n.offset().height)},getContentDifference:function(){var e,n=this.scrollerContainer.offset().height,r=this.scrollerContent.offset().height;return r>n?(e=100*n/r,e=e):e=100,e},refresh:function(){this.setCarSize(),this.setContentPos()},setCarSize:function(){var e=this.getContentDifference();this.scrollerCar.height(e+"%")},moveContent:function(){var e=this.scrollerCar.css("margin-top").replace("px","");e=100*e/this.scrollerContainer.offset().height,e=this.scrollerContent.offset().height*(e/100),this.scrollerContent.css("margin-top","-"+e+"px")}};
